
> # í”¼ë“œë°±ì„ ì£¼ê³ ë°›ì€ PR
> - [[1ë‹¨ê³„ - ë¸”ë™ì­] ë ‰ìŠ¤(ì˜¤ì„±ì›) ë¯¸ì…˜ ì œì¶œí•©ë‹ˆë‹¤. #257](https://github.com/woowacourse/java-blackjack/pull/257)
> - [ì‘ì„±í•œ ë¯¸ì…˜ ì½”ë“œ](https://github.com/Seongwon97/java-blackjack/tree/step1)

# í”¼ë“œë°± ì •ë¦¬
## 1. ìƒí™©ì— ë§ëŠ” ì ì ˆí•œ ì˜ˆì™¸ë¥¼ ë˜ì§€ì
- [ì½”ë©˜íŠ¸ ë§í¬](https://github.com/woowacourse/java-blackjack/pull/257#discussion_r825255644)

```java
public class Deck {
  ...
    public Card drawCard() {
        if (cards.isEmpty()) {
//            throw new IllegalStateException(ERROR_EMPTY_DECK);
            throw new IndexOutOfBoundsException(ERROR_EMPTY_DECK);
        }
        return cards.poll();
    }
  ...
}
```
ì €ëŠ” ì§€ê¸ˆê¹Œì§€ ì•ì„  ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©´ì„œëŠ” ë°œìƒí•˜ëŠ” ì˜ˆì™¸ìƒí™©ë“¤ì„ ëª¨ë‘ `IllegalArgumentException`ì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
ê·¸ëŸ¬ë©´ ì¢‹ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ì•Œë©´ì„œë„..ìƒí™©ë³„ë¡œ ì–´ë–¤ ì˜ˆì™¸ë¥¼ ì“°ëŠ” ê²ƒì´ ì˜¬ë°”ë¥¸ì§€ ëª¨ë¥´ê¸°ì— ê·¸ë¬ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤ğŸ˜…

ì´ë²ˆ í”¼ë“œë°±ìœ¼ë¡œ ìƒí™©ë³„ë¡œ ì ì ˆí•œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œì£¼ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëŠ” í”¼ë“œë°±ì„ ë°›ì•„ ìƒí™©ë³„ í•„ìš”í•œ ì˜ˆì™¸ì— ëŒ€í•´ í•™ìŠµí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ê²ƒë§Œìœ¼ë¡œë„

> í•™ìŠµìë£Œ
> - [Effective Java Item72. í‘œì¤€ ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ë¼](https://jaehun2841.github.io/2019/03/10/effective-java-item72/#%ED%91%9C%EC%A4%80-%EC%98%88%EC%99%B8%EB%A5%BC-%EC%9E%AC%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC)
    > ìì„¸í•œ ë‚´ìš©ì€ ì´í™í‹°ë¸Œìë°” Item72ë¶€ë¶„ì„ ì°¸ê³ í•˜ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## 2. ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ì¼ì´ ì—†ëŠ” ìƒì†ìš© í´ë˜ìŠ¤ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ë¼
- [ì½”ë©˜íŠ¸ ë§í¬](https://github.com/woowacourse/java-blackjack/pull/257#discussion_r825255742)

í•´ë‹¹ í”¼ë“œë°±ì€ ì•„ì§ê¹Œì§€ ìƒì†ì— ëŒ€í•œ ì§€ì‹ì´ ë¶€ì¡±í•˜ì—¬ ë°›ì€ í”¼ë“œë°±ì…ë‹ˆë‹¤.

ì¶”ìƒ ë©”ì„œë“œê°€ ì—†ëŠ” í´ë˜ìŠ¤ì´ë”ë¼ë„ ìƒì†ë§Œì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì€ `abstract`ë¥¼ ë¶™ì—¬ì¤Œìœ¼ë¡œì¨
í”„ë¡œê·¸ë¨ ë‚´ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ë§‰ì•„ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> í•™ìŠµ ì •ë¦¬ ìë£Œ
> - [Rex's Develop Diary - ìë°”ì˜ ìƒì†](https://seongwon97.github.io/posts/%EC%9E%90%EB%B0%94-%EC%83%81%EC%86%8D/)

## 3. Viewì—ì„œëŠ” ë„ë©”ì¸ì˜ ë©”ì¸ ë¡œì§ì„ ì‹¤í–‰ì‹œí‚¤ì§€ ë§ì
- [ì½”ë©˜íŠ¸ ë§í¬](https://github.com/woowacourse/java-blackjack/pull/257#discussion_r825258979)

```java
public class OutputView {
  ...
    public static void printFinalScore(DealerResult result, Users users, int dealerSum) {
        printDealerResult(result.getCount());

        for (User user : users.getUsers()) {
            printUserResult(user, user.checkResult(dealerSum));
        }
      ...
    }
  ...
}
```

í•´ë‹¹ í”¼ë“œë°±ì€ ìŠ¹íŒ¨ë¥¼ ê³„ì‚°í•˜ëŠ” `checkResult()`ì™€ ê°™ì€ í•µì‹¬ ë©”ì„œë“œê°€ ë„ë©”ì¸, ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ ë·°ì—ì„œ í˜¸ì¶œë˜ì–´ ì‚¬ìš©ë˜ì—ˆê¸°ì— ë°›ì€ í”¼ë“œë°±ì…ë‹ˆë‹¤.

ì €ëŠ” í•´ë‹¹ í”¼ë“œë°±ì„ ê³ ì¹˜ê¸° ìœ„í•´ DTOë¥¼ ìƒì„±í•˜ì—¬ ë„ë©”ì¸ ë˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‹¤ì§ˆì ì¸ í•µì‹¬ ë¡œì§ì„ ì‹¤í–‰ì‹œí‚¨ í›„, DTOë¥¼ í†µí•´ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê³  ë·°ì—ì„œëŠ”
ë°›ì€ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ì‘ì—…ë§Œ í•˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

## 4. Domainì—ëŠ” Viewì™€ ê´€ë ¨ëœ ë‚´ìš©ì´ ì—†ë„ë¡ ì‹ ê²½ì“°ì
- [ì½”ë©˜íŠ¸ ë§í¬](https://github.com/woowacourse/java-blackjack/pull/257#discussion_r825259337)

```java
public enum CardNumber {
    ACE(11, "A"),
    TWO(2, "2"),
    THREE(3, "3"),
    FOUR(4, "4"),
    FIVE(5, "5"),
    SIX(6, "6"),
    SEVEN(7, "7"),
    EIGHT(8, "8"),
    NINE(9, "9"),
    TEN(10, "10"),
    JACK(10, "J"),
    QUEEN(10, "Q"),
    KING(10, "K");

    private final int number;
    private final String originalName;
  ...
```
ì•„ë§ˆ ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì´ ì´ë²ˆ ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©° ì¹´ë“œì˜ íƒ€ì…ê³¼ ë²ˆí˜¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ enumíƒ€ì…ìœ¼ë¡œ ë„ë©”ì¸ ë¶€ë¶„ì— ìƒì„±í•˜ì—¬ ì‚¬ìš©í–ˆì„ ê²ƒì…ë‹ˆë‹¤.

<img src="https://seongwon97.github.io/assets/img/2022-03-13-%ED%94%BC%EB%93%9C%EB%B0%B14.png">

í•˜ì§€ë§Œ ìœ„ì˜ í”¼ë“œë°±ì„ ë°›ê³  `í˜„ì¬ ì½”ë“œëŠ” ì¹´ë“œ ì¶œë ¥ì˜ í˜•ì‹ì„ ë³€ê²½í•œë‹¤ë©´ viewê°€ ì•„ë‹Œ domainì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤!`ëŠ” ì‚¬ì‹¤ì„ êº ë‹«ê²Œ ë˜ë©°,
`originalName`ì˜ ê²½ìš°ëŠ” ë„ë©”ì¸ì´ ì•„ë‹Œ ë·°ì— ìœ„ì¹˜í•˜ëŠ” ê²ƒì´ MVCì…ì¥ì—ì„œëŠ” ë§ë‹¤ ìƒê°í–ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì €ëŠ” ë·°ì— ì•„ë˜ì˜ `OriginalCardNumber`, `OriginalCardType`ì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì¹´ë“œ íƒ€ì…,ë²ˆí˜¸ë¥¼ ë°›ê³  ê·¸ì— ë§ëŠ” ì¶œë ¥ íƒ€ì…ì„ ë°˜í™˜í•˜ë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

```java
public enum OriginalCardType {

    HEART(CardType.HEART, "í•˜íŠ¸"),
    DIAMOND(CardType.DIAMOND, "ë‹¤ì´ì•„ëª¬ë“œ"),
    SPADE(CardType.SPADE, "ìŠ¤í˜ì´ë“œ"),
    CLOVER(CardType.CLOVER, "í´ë¡œë²„");

    private final CardType cardType;
    private final String name;

    OriginalCardType(CardType cardType, String name) {
        this.cardType = cardType;
        this.name = name;
    }

    public static String getOriginalName(CardType cardType) {
        return Arrays.stream(values())
                .filter(c -> c.getCardType() == cardType)
                .map(OriginalCardType::getName)
                .findAny()
                .orElseThrow(NullPointerException::new);
    }

    private CardType getCardType() {
        return cardType;
    }

    private String getName() {
        return name;
    }
}
```

ì´ ì™¸ì—ëŠ” ë„¤ì´ë°, ì ‘ê·¼ì œì–´ì ê´€ë ¨ ê°„ë‹¨í•œ í”¼ë“œë°±ì„ ë°›ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
